<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:ui="http://java.sun.com/jsf/facelets"
      xmlns:p="http://primefaces.org/ui">



    <h:head>

        <h2><center>Function Information</center></h2>
    </h:head>

    <h:body>
       
        <p:commandButton value="ThÃªm" update=":form2"  type="submit" action="#{functionBean.resetNewFunction()}" onclick="PF('dlg').show()" />
        <p:spacer>    </p:spacer>     
        <h:form id="form1">

            <p:dataTable  id="dataTable" var="function" paginator="true" rows="10" value="#{functionBean.functions}">
                <p:column headerText="RecordNo">
                    <h:outputText value="#{function.functionID}"/>
                </p:column>
                <p:column headerText="Name" >
                    <h:outputText value="#{function.functionName}"/>
                </p:column>
                 <p:column headerText="URL" >
                    <h:outputText value="#{function.functionURL}"/>
                </p:column>

                <p:column headerText="action" >
                    <p:commandButton icon="ui-icon-edit" update=":form2" value="edit" type="submit" action="#{functionBean.editFunction(function)}" onclick="PF('dlg').show()"/>
                    <p:commandButton update=":form1:dataTable" value="delete" type="submit" action="#{functionBean.deleteFunction(function)}" />         
                </p:column>

            </p:dataTable>   

        </h:form>  


        <p:dialog header="Save" widgetVar="dlg">
            <h:outputText value="Resistance to PrimeFaces is Futile!" />
            <h:panelGroup >

                <h3>Add Function Information</h3>
                <h:form id="form2">
                    <p:inputText style="display: none" value="#{functionBean.newFunction.functionID}" />
                    <p>Function Name: <p:inputText value="#{functionBean.newFunction.functionName}" /></p>
                    <p>Function Url: <p:inputText value="#{functionBean.newFunction.functionURL}" /></p>

                    <p><p:commandButton icon="ui-icon-plusthick" update=":form1:dataTable, :form2"  type="submit" value="add" action="#{functionBean.addFunction()}" /></p>
                </h:form>

            </h:panelGroup>
        </p:dialog>

    </h:body>

</html>
